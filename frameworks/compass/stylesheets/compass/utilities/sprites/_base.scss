// Set the width and height of an element to the original
// dimensions of an image before it was included in the sprite.
@mixin sprite-dimensions($sprite, $name) {
  height: image-height(sprite-file($sprite, $name));
  width: image-width(sprite-file($sprite, $name));
}

// Set the background position of the given `$sprite` to display the
// image of the given `$name`. You can move the image relative to its
// natural position by passing `$offset-x` and `$offset-y`.
@mixin sprite-position($sprite, $name, $offset-x: 0, $offset-y: 0) {
  background-position: sprite-position($sprite, $name, $offset-x, $offset-y);  
}

@mixin sprite($sprite, $name, $dimensions: false, $offset-x: 0, $offset-y: 0) {
  @include sprite-position($sprite, $name, $offset-x, $offset-y);
  @if $dimensions {
    @include sprite-dimensions($sprite, $name);
  }
}

@mixin sprites($sprite, $sprite-names, $base-class: false, $dimensions: false) {
  @each $sprite-name in $sprite-names {
    .#{sprite-name($sprite)}-#{$sprite-name} {
      @if $base-class { @extend #{$base-class}; }
      @include sprite($sprite, $sprite-name, $dimensions);
    }
  }
}